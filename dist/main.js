/*!
 * 
 * author : 7548764@qq.com
 * github : https://github.com/hatedMe/wechat-request
 * version : 1.4.1
 * 		
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.bind=function(e,t){return function(){return e.apply(t,Array.from(arguments))}},u=(t.extend=function(e,t,n){return Object.getOwnPropertyNames(t).forEach(function(r){n&&"function"==typeof t[r]?e[r]=o(t[r],n):e[r]=t[r]}),e},t.copyobj=function(e,t){return Object.assign({},e,t)},t.merge=function e(){var t={};return Array.from(arguments).forEach(function(n){for(var o in n)"object"!==r(n[o])||u(n[o])||e(t[o],n[o]),t[o]=n[o]}),t},t.isEmptyObject=function(e){return 0===Object.getOwnPropertyNames(e).length});t.combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},t.isAbsoluteURL=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o={"Content-Type":"application/x-www-form-urlencoded"},u={method:"get",dataType:"json",responseType:"text",headers:{}};u.headers={common:{Accept:"application/json, text/plain, */*"}},["delete","get","head","post","put","patch"].map(function(e){u.headers[e]=r.merge(u.headers,o)}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchRequest=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.dispatchRequest=function(e){e.baseURL&&!r.isAbsoluteURL(e.url)&&(e.url=r.combineURLs(e.baseURL,e.url)),e.headers=r.merge(e.headers.common||{},e.headers||{},e.headers[e.method]||{}),["delete","get","head","post","put","patch","common"].forEach(function(t){delete e.headers[t]});var t=Promise.resolve(e);return t.then(function(e){return new Promise(function(t,n){var r=wx.request({url:e.url,data:e.data||{},header:e.headers,method:e.method,dataType:e.dataType,success:function(e){t({data:e.data,headers:e.header,status:e.statusCode,statusText:"ok"})},fail:function(e){n(e)},complete:function(){e.complete&&e.complete()}});e.timeout&&"number"==typeof e.timeout&&e.timeout>1e3&&setTimeout(function(){r.abort(),t({status:"canceled"})},e.timeout)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handlers=[]}return r(e,[{key:"use",value:function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"forEach",value:function(e){this.handlers.forEach(function(t){null!==t&&e(t)})}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=c(n(1)),i=c(n(3)),f=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaults=t,this.interceptors={request:new i.default,response:new i.default}}return o(e,[{key:"request",value:function(e){"string"==typeof e&&(e=u.merge({url:arguments[0]},arguments[1])),(e=u.merge(a.default,this.defaults,{method:"GET"},e)).method=e.method.toLowerCase();var t=[f.dispatchRequest,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n}},{key:"all",value:function(e){return Promise.all(e)}},{key:"uploadFile",value:function(){var e=u.merge({url:arguments[0]},arguments[1]),t=void 0;if(e.formData&&"object"===r(e.formData)){for(var n in t=new FormData,e.formData)t.append(n,e.formData[n]);e.formData=t}return new Promise(function(t,n){wx.uploadFile({url:e.url,filePath:e.filePath,name:e.name,formData:e.formData,success:function(e){t({data:e.data,headers:e.header,status:e.statusCode,statusText:"ok"})},fail:function(e){n(e)},complete:function(){}})})}}]),e}();["delete","get","head","options","post","put","patch"].forEach(function(e){l.prototype[e]=function(t,n){return this.request(u.merge(n||{},{method:e,url:t}))}}),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(4)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var a,i,f,c=(a=u(n(1)).default,i=new r.default(a),f=o.bind(r.default.prototype.request,i),o.extend(f,r.default.prototype,i),o.extend(f,i),f);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(5))&&r.__esModule?r:{default:r};t.default=o.default}])});
//# sourceMappingURL=main.js.map